# matrixFont — история версий

| Параметр          | Описание                                                     |
| ----------------- | ------------------------------------------------------------ |
| Приложение        | [matrixFont](readme.md)                                      |
| Тема              | Приложение для создания и редактирования растровых шрифтов, используемых в проектах программного обеспечения встраиваемых систем с графическим дисплеем |
| Автор             | Riva                                                         |
| Лицензия          | [FreeBSD License, модифицированная](license.md)              |
| Начало разработки | 2015                                                         |
| Релиз             | 2017.07.04 - v0.0.0.39 (предварительный)                     |
|                   | 2021.08.27 - v1.1.0.52 (первый публичный)                    |



[TOC]



## V0.0



### `v0.0.0.1`    `2015`

1.  Вплоть до сборки 0.0.0.9 автор так увлекся созданием приложения, что начисто забил на ведение лога разработки

---

### `v0.0.0.9`    `2016.06.08`

1.  Исправлено функционирование отмены/повтора
2.  Добавлено колонку "символ" в навигатор
3.  Визуальные правки навигатора

- [x] план: сделать один битмап, а в объектах символов использовать его через указатель

---

### `v0.0.0.10`    `2016.06.29`

1.  Сделано один битмап, который используется через указатель
2.  ControlBar заменен на CoolBar
3.  Добавлены эффекты, применяемые ко всему набору символов

- [x] план: сделать формат файла для сохранения шрифта
- [x] план: сделать предпросмотр текста шрифтом

---

### `v0.0.0.11`    `2016.07.25`

1.  Добавлен функционал в диалог создания шрифта
2.  Добавлено окно свойств шрифта

---

### `v0.0.0.12`    `2016.10.12`

1.  Добавлено сохранение в файл
2.  Добавлена загрузка из файла
3.  Добавлена генерация кода си (пробная версия)
4.  Переработан интерфейс окна генератора

- [ ] план: доработать генерацию кода
- [ ] план: реализовать графическое отображение формата генерации кода
- [x] план: добавить предупреждения при несохраненном измененном шрифте

---

### `v0.0.0.13`    `2016.10.13`

1.  Доработана генерация кода си (пробная версия)

---

### `v0.0.0.14`    `2016.10.22`

1.  Доработана генерация кода си пропорционального шрифта
2.  Доработаны элементы вывода генератора
3.  Добавлен выбор языка комментариев сгенерированного кода
4.  Доработан внешний вид (привязки) элементов окон "новый" и "свойства"
5.  Добавлена статусная строка
6.  Добавлен функционал кнопок в окне генератора
7.  Добавлена кнопка "свойства" на панель быстрого доступа

- [x] план: исправить отмену действия в загруженном файле

---

### `v0.0.0.15`    `2016.10.24`

1.  Доработана генерация кода си пропорционального шрифта (ширина пустых символов)
2.  Исправлена ошибка при отмене действия в загруженном или заново созданном файле

- [x] план: сделать импорт шрифта из системы в приложение
- [x] план: исправить генерацию кода (запятая в конце массива)
- [x] план: добавить окно подтверждения при закрытии несохраненного шрифта

---

### `v0.0.0.16`    `2016.12.08`

1.  Исправлено генерацию кода (запятая в конце массива)
2.  Добавлено окно подтверждения при закрытии несохраненного шрифта
3.  Изменены кнопки в окнах свойств и создания нового шрифта на TBitBtn
4.  Добавлен модуль для чтения информации о версии приложения и пр.

- [x] план: добавить в файл сведения о версии приложения
- [ ] план: добавить в файл сведения о версии формата файла
- [x] план: добавить поле ввода префикса для дефайнов в генераторе

---

### `v0.0.0.17`    `2016.12.23`

1.  Исправлена выдача подтверждения при несохраненном шрифте
2.  Переработан Action создания нового шрифта
3.  Добавлено в формат файла сведения о версии приложения, создавшего шрифт
4.  Добавлено вывод в окне свойств версии приложения, создавшего шрифт
5.  В генераторе переработано выравнивание тела макросов (табул. по 4)

- [x] план: добавить масштаб символа "вписанный"
- [x] план: добавить обработку средней кнопки мыши (инверсия пикселя)

---

### `v0.0.0.18`    `2017.01.19`

1.  Добавлено масштаб символа "вписанный"
2.  Исправлен код формирования изображения символа (визуальный баг при отключенной сетке)

- [x] план: сделать поиск символа в таблице по названию и по коду

---

### `v0.0.0.19`    `2017.01.25`

1.  Добавлено импорт шрифта из системы в приложение
2.  Исправлены небольшие ошибки
3.  Изменен интерфейс: перенесена одна из панелей на правую сторону

- [x] план: сделать выбор диапазона вывода в генераторе кода
- [ ] план: добавить инструменты для рисования: линии, прямоугольник, эллипс и т.п.

---

### `v0.0.0.20`    `2017.01.27`

1.  Добавлен счетчик кадров в секунду (текущее значение FPS)
2.  Добавлено таймер для отрисовки символа (макс. число FPS: 100)
3.  Добавлено обработку средней кнопки мыши (инверсия пикселя)
4.  Сделано поиск символа в таблице по названию и по коду

---

### `v0.0.0.21`    `2017.02.01`

1.  Добавлено предпросмотр текста шрифтом (альфа)

- [x] план: устранить баг при рисовании символа на краях
- [ ] план: добавить инструмент "заливка"

---

### `v0.0.0.22`    `2017.02.02`

1.  Доработано предпросмотр текста шрифтом: многострочный текст, проп/моно
2.  Переработана часть кода генератора кода символа (функционал не изменился)

- [x] план: доработать предпросмотр текста шрифтом
- [x] план: исправить баг с отменой всех изменений в загруженном шрифте (отменяется загрузка)

---

### `v0.0.0.23`    `2017.02.03`

1.  Доработано предпросмотр текста шрифтом (дизайн)
2.  Добавлено "примагничивание" окна предпросмотра к главному окну
3.  Исправлено баг с отменой всех изменений в загруженном шрифте (отменяется загрузка)
4.  Устранен баг при рисовании символа на краях

- [x] план: добавить масштабирование и индикатор масштаба в окно импорта шрифта
- [x] план: добавить отмену/повтор изменений для всего шрифта
- [ ] план: продумать вариант отображения сетки символов (вместо навигатора в виде списка)

---

### `v0.0.0.24`    `2017.02.21`

1.  Создан GUI для изменения размеров холста символов шрифта
2.  Убраны лишние пункты меню (добавление/удаление строк/столбцов в шрифте)

---

### `v0.0.0.25`    `2017.02.25`

1.  Реализовано изменение размеров холста символов шрифта

- [x] план: переработать принцип записи истории изменений (некорректная работа при изменении размеров холста) [изменена концепция: сброс истории правок]

---

### `v0.0.0.26`    `2017.03.01`

1.  Доработано окно предпросмотра (переработан GUI)
2.  Реализовано функцию оптимизации размера холста символов шрифта
3.  Реализовано выбор диапазона вывода в генераторе кода

---

### `v0.0.0.27`    `2017.03.02`

1.  Реализовано изменение диапазона символов шрифта
2.  Переработаны функции сдвига, прижатия, отражения (универсализация)

---

### `v0.0.0.28`    `2017.03.03`

1.  Реализовано операции с буфером обмена (копировать/вырезать/вставить)

---

### `v0.0.0.29`    `2017.03.06`

1.  Переработан интерфейс окна генератора
2.  Добавлен диалог сохранения для экпорта изображения предпросмотра
3.  Добавлен диалог сохранения для экпорта файла кода

---

### `v0.0.0.30`    `2017.03.18`

1.  Переделан интерфейс окна оптимизации (равномерное заполнение боксов)
2.  Исправлена ошибка при работе с буфером обмена
3.  Изменен формат файла шрифта (побитовая запись, размер уменьшен в ~8 раз)

- [ ] план: добавить в окно предпросмотра кнопку выравнивания ширины окна по главному
- [x] план: добавить проверку имени шрифта (нелатинские символы в генерируем коде)

---

### `v0.0.0.31`    `2017.04.04`

1.  Переделан интерфейс окон создания, свойств, импорта, оптимизации,
    изменения диапазона, изменения размера, подтверждения
2.  Добавлено окно "О программе"
3.  Добавлена звездочка в заголовок, если файл изменен и не сохранен
4.  Добавлена проверка диапазонов символов в окнах создания и изменения диапазона
5.  Добавлена кнопка "Закрыть" на панель поиска

---

### `v0.0.0.32`    `2017.04.06`

1.  Добавлено окно настроек (тестовая версия)
2.  Добавлены названия непечатных символов в навигатор и в код

- [x] план: сделать сохранение настроек и параметров приложения

---

### `v0.0.0.33`    `2017.04.07`

1.  Доработано окно настроек
2.  Добавлено сохранение настроек и параметров приложения

- [x] план: добавить список последних открытых файлов

---

### `v0.0.0.34`    `2017.04.09`

1.  Удален таймер из формы предпросмотра, переработана логика обновления навигатора, предпросмотра
2.  Исправлена ошибка вывода символов предпросмотра, не входящих в текущий шрифт

---

### `v0.0.0.35`    `2017.05.16`

1.  Исправлено генерацию кода (транслитерация кирилличного названия шрифта)
2.  Сохранение списка последних открытых файлов (тестовый режим)

---

### `v0.0.0.36`    `2017.05.17`

1.  Сохранение списка последних открытых файлов

- [ ] план: добавить опции расположения окон на экране (надо?)
- [x] план: добавить возможность локализации
- [x] план: добавить возможность показать/скрыть панели быстрого доступа
- [ ] план: добавить эффект центрирования символа (по вертикали и горизонтали)
- [ ] план: добавить создание пользовательских макросов (список операций для выполнения по вызову макроса)
- [ ] план: добавить окно посимвольной статистики шрифта (кол-во пустых строк/столбцов, фактическая высота/ширина и т.п.)
- [x] план: добавить панель быстрого доступа для эффектов всего шрифта

---

### `v0.0.0.37`    `2017.05.19`

1.  Исправлен визуальный баг при сбросе настроек (вкладка "Навигатор")
2.  Добавлены настройки отображения превью символа в навигаторе

---

### `v0.0.0.38`    `2017.07.01`

1.  Исправлен визуальный баг при сбросе настроек и выходе без применения изменений
2.  Добавлено новое визуальное оформление (набор иконок) и соответствующая настройка
3.  Добавлены кнопки масштаба и контекстное меню в окно предпросмотра

---

### `v0.0.0.39`    `2017.07.04`

1.  Добавлено сохранение текста предпросмотра в файл настроек
2.  Новое визуальное оформление (набор иконок) сделано полностью
3.  Рефакторинг частей кода и конструкции форм



### `v0.0.0.39` — тестовый релиз

Предварительный релиз. Работоспособная версия в процессе тестирования.



### `v0.0.0.40`    `2021.07.16`

1.  Убран выбор стиля иконок и иконки Iconizer
2.  Модернизация окна "О программе"
3.  Автовыравнивание ширины столбцов навигатора
4.  Панель поиска переработана
5.  Переработан алгоритм сохранения последних открытых файлов
6.  Переделана система хранения настроек, частично
7.  Изменение высоты строки навигатора мышью
8.  Масштабирование колесом в предпросмотре отключено из-за неправильной работы
9.  Удалена опция выбора языка комментариев кода

---

### `v0.0.0.41`    `2021.07.17`

1.  Рефакторинг настроек
2.  Переработана статусная строка
3.  Уменьшено кол-во однотипных обработчиков
4.  Небольшие изменения в пользовательском интерфейсе
5.  Устранение обнаруженных мелких недочетов
6.  Модернизирован диалог подтверждения
7.  Рефакторинг кода рисования пикселей

---

### `v0.0.0.42`    `2021.07.18`

1.  Добавлена поддержка интернационализации интерфейса (перевод)
2.  Редизайн форм некоторых окон
3.  Рефакторинг кода
4.  В свойства шрифта добавлено путь к файлу

---

### `v0.0.0.43`    `2021.07.19`

1.  Добавлена опция и функционал шахматного фона редактора
2.  Добавлена опция вывода кода символа в навигаторе в HEX-виде
3.  Устранение обнаруженных мелких недочетов

---

### `v0.0.0.44`    `2021.07.20`

1.  Модернизация формы генерирования кода
2.  Устранение обнаруженных мелких недочетов

---

### `v0.0.0.45`    `2021.07.21`

1.  Модернизация формы импорта шрифта
2.  Устранение обнаруженных мелких недочетов
3.  Исправлено некорректное поведение при масштабировании колесом
4.  Масштабирование колесом в предпросмотре возвращено

---

### `v0.0.0.46`    `2021.07.22`

1.  Модернизация главной формы
2.  Индикатор масштаба в окне импорта
3.  Масштабирование шрифта кода в окне генератора
4.  Добавлена панель быстрого доступа для эффектов всего шрифта
5.  Добавлены флаги управления видимостью панелей быстрого доступа

---

### `v0.0.0.47`    `2021.07.23`

1.  Исправлен алгоритм сброса настроек
2.  Выравнивание окна приложения по центру при первом запуске
3.  Пакетная отмена/повтор
4.  Пакетная вставка
5.  Режимы вставки: замена/AND/OR/XOR
6.  Добавлена панель быстрого доступа для правки шрифта
7.  Выравнивание боковых панелей быстрого доступа по центру
8.  Убран буфер для прорисовки холста (теперь рисует прямо в компоненте)
9.  Переделан экспорт изображения образца текста (стал быстрее).
10. Добавлен список последних файлов как контекстное меню кнопки "Открыть"
11. Добавление сохраняемых файлов в список последних
12. Доработка диалога "Сохранить как"



## V1.0



### `v1.0.0.48`    `2021.07.24`

1.  Добавлены проверки целостности и корректности при загрузке файла
2.  Подготовлен файл справки
3.  Релиз версии 1.0

---

### `v1.0.0.49`    `2021.07.29`

1.  Добавлена возможность открывать справку в .html, .md и онлайн
2.  Добавлена ссылка на репозиторий в п.м. "Справка"
3.  Исправлена ошибка диапазона в проверке при открытии файла
4.  Исправлена ошибка в расчете ширины столбцов навигатора
5.  Изменен формат файла RHF (для сохранения кодировки)
6.  Начата реализация выбора кодировки

---

### `v1.0.0.50`    `2021.07.30`

1.  Добавлен выбор кодировки
2.  Исправлены обнаруженные ошибки
3.  Исправлены ошибки, связанные и локализацией отдельных мест
4.  Добавлена локализация EN

---

### `v1.0.0.51`    `2021.07.31`

1.  Исправлена проблема с заданием имени файла при открытии/сохранении
2.  Исправлено задание имени приложения-генератора для комментария в коде Си

---

### `v1.1.0.52`    `2021.08.27`

1.  Исправлены пути к ресурсам.
2.  Первый публичный выпуск.

---



# Идеи и планы

Идеи для расширения функционала. Намеченные планы.

- [x] сделать один битмап, а в объектах символов использовать его через указатель
- [x] сделать формат файла для сохранения шрифта
- [x] сделать предпросмотр текста шрифтом
- [x] добавить предупреждения при несохраненном измененном шрифте
- [x] исправить отмену действия в загруженном файле
- [x] сделать импорт шрифта из системы в приложение
- [x] исправить генерацию кода (запятая в конце массива)
- [x] добавить окно подтверждения при закрытии несохраненного шрифта
- [x] добавить в файл сведения о версии приложения
- [ ] добавить в файл сведения о версии формата файла
- [x] добавить поле ввода префикса для дефайнов в генераторе
- [x] добавить масштаб символа "вписанный"
- [x] добавить обработку средней кнопки мыши (инверсия пикселя)
- [x] сделать поиск символа в таблице по названию и по коду
- [x] сделать выбор диапазона вывода в генераторе кода
- [x] устранить баг при рисовании символа на краях
- [x] доработать предпросмотр текста шрифтом
- [x] исправить баг с отменой всех изменений в загруженном шрифте (отменяется загрузка)
- [x] добавить масштабирование и индикатор масштаба в окно импорта шрифта
- [x] переработать принцип записи истории изменений (некорректная работа при изменении размеров холста)
- [x] добавить проверку имени шрифта (нелатинские символы в генерируем коде)
- [x] сделать сохранение настроек и параметров приложения
- [x] добавить список последних открытых файлов
- [x] добавить возможность локализации
- [x] добавить панель быстрого доступа для эффектов всего шрифта
- [x] добавить возможность показать/скрыть панели быстрого доступа
- [x] пакетная отмена/повтор
- [x] пакетная вставка
- [x] режимы вставки: AND/OR/XOR
- [x] добавить отмену/повтор изменений для всего шрифта
- [ ] реализовать графическое отображение формата генерации кода
- [ ] добавить инструменты для рисования: линии, прямоугольник, эллипс и т.п.
- [ ] добавить инструмент "заливка"
- [ ] добавить в окно предпросмотра кнопку выравнивания ширины окна по главному
- [ ] продумать вариант отображения сетки символов (вместо навигатора в виде списка)
- [ ] добавить эффект центрирования символа (по вертикали и горизонтали)
- [ ] добавить создание пользовательских макросов (список операций для выполнения по вызову макроса)
- [ ] добавить окно посимвольной статистики шрифта (кол-во пустых строк/столбцов, фактическая высота/ширина и т.п.)
- [ ] добавить опции расположения окон на экране (надо?)
- [x] добавить выбор кодировки символов

